<!-- LES PIEDS SUIVENT MAINS -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/elbobo/aframe-multisrc-component/b6d23310/dist/0.3/aframe-multisrc-component.js"></script>
    <script src="myutils.js"></script>
</head>

<body>
    <a-scene background="color: #5280A7">

        <a-entity camera="active: true" look-controls wasd-controls position="0 1.6 -2.5"></a-entity>

        <a-assets>
          <a-asset-item id="leftfoot" src="../piedgauche.glb"></a-asset-item>
          <a-asset-item id="rightfoot" src="../pieddroite.glb"></a-asset-item>

          <img id="ciel" src ="./assets/images/c.png">
          
          <img id="turn" src="./assets/images/fleche.png"> 
          <img id="illusion" src="./assets/images/noir.png">
          <img id="effet" src="./assets/images/surface.png">
          <img id="begin" src="./assets/images/way.png">
          <img id="then" src="./assets/images/msg2.png">
          <img id="end" src="./assets/images/fn.png">
        </a-assets>

        <!-- INSEREZ VOTRE ENVIRONNEMENT, CI-DESSOUS ... -->

        <a-sky src = #ciel ></a-sky>

        <a-box   position="0 -5 -2.5"  
                 rotation="180 0.3 0" 
                 width="0.5" 
                 height="10" 
                 depth = "0.5"
                 multisrc="srcs:#illusion,#illusion,#illusion,#begin,#illusion,#illusion"></a-box>

         <a-box  position="1 -0.1 -2.5"  
                 rotation="180 0.3 0" 
                 width="1.5" 
                 height="0.2" 
                 depth = "0.1"
                 src="#effet"></a-box>
        
        <a-box   position="1.7 -0.1 -2.9"  
                 rotation="180 0.3 0" 
                 width="0.1" 
                 height="0.2" 
                 depth = "0.8"
                 src =#effet></a-box>

        <a-box   
                 position="1.25 -5 -3.4" 
                 width="1" 
                 height="10" 
                 depth = "0.25"
                 multisrc="srcs:#illusion,#illusion,#turn,#illusion,#illusion,#illusion"></a-box>

        <a-box   
                 position="0.25 -5 -3.4" 
                 width="0.25" 
                 height="10" 
                 depth = "0.25"
                 src="#illusion"></a-box>
        
        <a-box   
                 position="-0.37 -0.1 -3.4" 
                 width="0.99" 
                 height="0.2" 
                 depth = "0.1"
                 src="#effet"></a-box>
        <a-box   
                 position="-0.9 -5 -3.4" 
                 width="0.25" 
                 height="10" 
                 depth = "0.25"
                 src="#illusion"></a-box>

        <a-box   
                 position="-1.5 -5 -3.4" 
                 width="0.5" 
                 height="10" 
                 depth = "0.5"
                 multisrc="srcs:#illusion,#illusion,#then,#illusion,#illusion,#illusion"></a-box>
        
        <a-cylinder position="-1.5 0 -4"
                 radius="0.27" 
                 height="0" 
                 src="#effet"></a-cylinder>

        <a-cylinder position="-0.75 0 -4.2"
                 radius="0.27" 
                 height="0" 
                 src="#effet"></a-cylinder>

        <a-cylinder 
                 position="-0.1 0 -4.3"
                 radius="0.24" 
                 height="0" 
                 src="#effet"></a-cylinder>
      
         <a-box   
                position="0.65 -5 -4.3"  
                 rotation="180 0.3 0" 
                 width="0.5" 
                 height="10" 
                 depth = "0.5"
                 src="#effet"></a-box>

         <a-box   
                 position="1.5 -5 -4.3"  
                  rotation="180 0.3 0" 
                  width="0.5" 
                  height="10" 
                  depth = "0.5"
                  src="#effet"></a-box>

         <a-box   
                 position="1.5 -0.1 -5"  
                 rotation="180 0.3 0" 
                 width="0.1" 
                 height="0.2"
                 depth = "1"
                 src="#effet"></a-box>

        
          <a-box   position="1.5 -5 -5.62" 
                 width="0.3" 
                 height="10" 
                 depth = "0.3"
                 src = "#effet"></a-box>

       
          <a-cylinder position="0.75 -5 -5.59"
                    radius="0.23" 
                    height="10" 
                    multisrc="srcs:#illusion,#effet,#illusion,#effet,#illusion,#illusion"></a-cylinder>

        <a-cylinder position="0.3 -5 -5.2"
                    radius="0.18" 
                    height="10" 
                    multisrc="srcs:#illusion,#effet,#illusion,#effet,#illusion,#illusion"></a-cylinder>

        <a-cylinder position="-0.2 -5 -5.64"
                    radius="0.15" 
                    height="10" 
                    multisrc="srcs:#illusion,#effet,#illusion,#effet,#illusion,#illusion"></a-cylinder>

        <a-cylinder position="-0.6 -5 -5.4"
                    radius="0.11" 
                    height="10" 
                    multisrc="srcs:#illusion,#effet,#illusion,#effet,#illusion,#illusion"></a-cylinder>

        <a-box      position="-1.42 -5 -5.59" 
                    width="0.7" 
                    height="10" 
                    depth = "0.45"
                    multisrc="srcs:#illusion,#illusion,#end,#illusion,#illusion,#illusion"></a-box>

        <!-- ... JUSQUE CI-DESSUS -->

        <!-- PLAYER -->
        <a-entity id="cameraRig">
            
            <!-- TETE -->
            <a-entity id="tete" camera position="0 1.6 0" 
                    look-controls wasd-controls>
            </a-entity>

            <!-- LEFT HAND -->
            <a-entity id="maingauche" hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc">
            </a-entity>

            <!-- RIGHT HAND -->
            <a-entity id="maindroite" hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc">
            </a-entity>

            <!-- PIEDS -->
            <a-entity id="piedgauche" gltf-model="#leftfoot" 
                      rotation="-90 0 180"
                      follow-head-rotation="trace: false" follow-hand-position>
            </a-entity>
            <a-entity id="pieddroite" gltf-model="#rightfoot" 
                      rotation="-90 0 180"
                      follow-head-rotation="trace: false" follow-hand-position>
            </a-entity>

        </a-entity>

    </a-scene>

</body>

</html>